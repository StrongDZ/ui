{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/kadamato/Work/Personal/ui/src/app/components/wallet-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Connector,\n  useAccount,\n  useConnect,\n  useDisconnect,\n} from \"@starknet-react/core\";\nimport { StarknetkitConnector, useStarknetkitConnectModal } from \"starknetkit\";\n\nconst buttonStyles =\n  \"bg-[#e2a127] border-black border rounded-lg p-2 transition-shadow hover:shadow-[6px_6px_0_0_rgba(0,0,0,1)] cursor-pointer\";\n\nimport React, { useEffect, useState } from \"react\";\n\nexport function WalletConnectorModal() {\n  const [showOptions, setShowOptions] = useState(false);\n  const { disconnect } = useDisconnect();\n\n  const { connect, connectors } = useConnect();\n  const { starknetkitConnectModal } = useStarknetkitConnectModal({\n    connectors: connectors as StarknetkitConnector[],\n  });\n\n  async function connectWallet() {\n    const { connector } = await starknetkitConnectModal();\n    if (!connector) {\n      return;\n    }\n    await connect({ connector: connector as Connector });\n  }\n\n  const { address } = useAccount();\n\n  const optionsRef = React.useRef<HTMLDivElement>(null);\n\n  // Sync state when account changes\n  useEffect(() => {\n    setShowOptions(false);\n    // You can add more sync logic here if needed\n  }, [address]);\n\n  useEffect(() => {\n    if (!showOptions) return;\n\n    function handleClickOutside(event: MouseEvent) {\n      if (\n        optionsRef.current &&\n        !optionsRef.current.contains(event.target as Node)\n      ) {\n        setShowOptions(false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [showOptions]);\n\n  if (!address) {\n    return (\n      <button onClick={connectWallet} className={buttonStyles}>\n        Connect Wallet\n      </button>\n    );\n  }\n  return (\n    <div className=\"relative flex flex-col gap-2\">\n      <button\n        onClick={() => setShowOptions((prev) => !prev)}\n        className={buttonStyles}\n      >\n        {address?.slice(0, 8)}...{address?.slice(-4)}\n      </button>\n      {showOptions && (\n        <div\n          ref={optionsRef}\n          className=\"absolute top-full right-0 mt-2 min-w-[200px] bg-white border border-black rounded-lg shadow-lg z-10 p-1\"\n        >\n          <button\n            onClick={() => {\n              navigator.clipboard.writeText(address!);\n              setShowOptions(false);\n            }}\n            className=\"block w-full text-left px-4 py-2 hover:bg-gray-100 cursor-pointer \"\n          >\n            Copy Address\n          </button>\n          <a\n            href={`https://starkscan.co/contract/${address}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"block w-full text-left px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n            onClick={() => setShowOptions(false)}\n          >\n            View on Explorer\n          </a>\n          <button\n            onClick={() => {\n              disconnect();\n              setShowOptions(false);\n            }}\n            className=\"block w-full text-left px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n          >\n            Disconnect\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAMA;AAKA;AAbA;;;;AAUA,MAAM,eACJ;;AAIK,SAAS;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,oVAAA,CAAA,gBAAa,AAAD;IAEnC,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,oVAAA,CAAA,aAAU,AAAD;IACzC,MAAM,EAAE,uBAAuB,EAAE,GAAG,CAAA,GAAA,kRAAA,CAAA,6BAA0B,AAAD,EAAE;QAC7D,YAAY;IACd;IAEA,eAAe;QACb,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM;QAC5B,IAAI,CAAC,WAAW;YACd;QACF;QACA,MAAM,QAAQ;YAAE,WAAW;QAAuB;IACpD;IAEA,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,oVAAA,CAAA,aAAU,AAAD;IAE7B,MAAM,aAAa,oUAAA,CAAA,UAAK,CAAC,MAAM,CAAiB;IAEhD,kCAAkC;IAClC,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;IACf,6CAA6C;IAC/C,GAAG;QAAC;KAAQ;IAEZ,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,aAAa;QAElB,SAAS,mBAAmB,KAAiB;YAC3C,IACE,WAAW,OAAO,IAClB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GACzC;gBACA,eAAe;YACjB;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;QAC5C;IACF,GAAG;QAAC;KAAY;IAEhB,IAAI,CAAC,SAAS;QACZ,qBACE,6WAAC;YAAO,SAAS;YAAe,WAAW;sBAAc;;;;;;IAI7D;IACA,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBACC,SAAS,IAAM,eAAe,CAAC,OAAS,CAAC;gBACzC,WAAW;;oBAEV,SAAS,MAAM,GAAG;oBAAG;oBAAI,SAAS,MAAM,CAAC;;;;;;;YAE3C,6BACC,6WAAC;gBACC,KAAK;gBACL,WAAU;;kCAEV,6WAAC;wBACC,SAAS;4BACP,UAAU,SAAS,CAAC,SAAS,CAAC;4BAC9B,eAAe;wBACjB;wBACA,WAAU;kCACX;;;;;;kCAGD,6WAAC;wBACC,MAAM,CAAC,8BAA8B,EAAE,SAAS;wBAChD,QAAO;wBACP,KAAI;wBACJ,WAAU;wBACV,SAAS,IAAM,eAAe;kCAC/B;;;;;;kCAGD,6WAAC;wBACC,SAAS;4BACP;4BACA,eAAe;wBACjB;wBACA,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX","debugId":null}}]
}